<div class="table-container"  [formGroup]="filterForm">

  <ng-container *ngFor="let checkboxStatus of statusList">
    <mat-checkbox class="example-margin">{{checkboxStatus}}</mat-checkbox>
  </ng-container>

  <mat-table [dataSource]="dataSource" matSort matSortDisableClear (matSortChange)="onSortChange($event)">
    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef></mat-header-cell>
      <mat-cell *matCellDef="let row">
        <button mat-icon-button (click)="navigateToDetails(row.id)">
          <mat-icon>info</mat-icon>
        </button>
      </mat-cell>
    </ng-container>

    <ng-container *ngFor="let tableColumn of tableConfig.columns; let i = index" [matColumnDef]="tableColumn.field">
      <mat-header-cell *matHeaderCellDef>
        <header class="header-group">
          <span mat-sort-header matTooltipPosition="above" class="header-title">{{tableColumn.header}}</span>
          <mat-form-field>
            <input
              #field
              matInput
              placeholder="Search"
              formControlName="{{ tableColumn.field }}"
              (click)="$event.stopPropagation()"
            /></mat-form-field>
        </header>
      </mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row | tableColumnField: tableColumn.field}}</mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

    <div *matNoDataRow>No data</div>

  </mat-table>

  <mat-paginator
    [length]="pageInfo ? pageInfo.totalElements : 1"
    [pageSize]="query && query.page && query.page.pageSize"
    [pageSizeOptions]="[5, 10, 15, 20]"
    [pageIndex]="query && query.page && query.page.pageIndex"
    (page)="onPageChange($event)"
  ></mat-paginator>
</div>
